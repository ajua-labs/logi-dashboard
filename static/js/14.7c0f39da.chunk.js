(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{152:function(e,t,a){"use strict";a.r(t);var n=a(55),o=a(66),c=a(67),l=a(69),r=a(68),i=a(70),s=a(207),p=a(208),d=a(190),u=a(200),h=a(136),m=a(137),v=a(138),f=a(139),b=a(206),I=a(282),A=a(202),y=a(274),k=a.n(y),g=a(279),E=a.n(g),R=a(278),D=a.n(R),O=a(0),P=a.n(O),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c)))).state={rolesApps:[],loadingApps:!1},a}return Object(i.a)(t,e),Object(c.a)(t,[{key:"fetchRolesApps",value:function(e){var t=this,a="".concat("https://logi-dash-api.azurewebsites.net/","security/rolesApps/").concat(e);this.setState({loadingApps:!0}),this.props.Auth.AuthenticatedServerCall(a,"GET").then(function(e){var a=e.filter(function(e){return e.ParentID&&-1===e.ParentID});a.forEach(function(t){var a=e.filter(function(e){return e.ParentID===t.ApplicationID});a.length>0?(t.ShowInNavigationTree=!0,t.childApps=a):t.ShowInNavigationTree=!1}),a.push.apply(a,Object(n.a)(e.filter(function(e){return!e.ParentID||null===e.ParentID}))),t.setState({rolesApps:a.sort(function(e,t){return e.AppOrder-t.AppOrder}),loadingApps:!1})}).catch(function(e){return t.setState({error:e,loadingApps:!1})})}},{key:"modifyRoleApps",value:function(e,t,a){var n=this;this.setState({loadingApps:!0});var o="".concat("https://logi-dash-api.azurewebsites.net/","security/modifyRoleApps");this.props.Auth.AuthenticatedServerCall(o,"POST",{RoleID:e,ApplicationID:t,ApplicationRoleID:a}).then(function(){n.fetchRolesApps(n.props.selectedRoleID),n.setState({loadingApps:!1})}).catch(function(e){n.setState({loadingApps:!1}),n.fetchRolesApps(n.props.selectedRoleID)})}},{key:"componentDidUpdate",value:function(e){if(e.selectedRoleID!==this.props.selectedRoleID){if(this.props.selectedRoleID<0)return void this.setState({rolesApps:[]});this.props.selectedRoleID&&this.props.selectedRoleID>=0&&this.fetchRolesApps(this.props.selectedRoleID)}}},{key:"componentDidMount",value:function(){this.props.selectedRoleID&&this.props.selectedRoleID>=0&&this.fetchRolesApps(this.props.selectedRoleID)}},{key:"render",value:function(){var e=this,t=this.props;return P.a.createElement(P.a.Fragment,null,P.a.createElement(s.a,{style:{height:"100%",overflow:"Auto"}},t.selectedRoleID?t.loadingApps?P.a.createElement(A.a,null):P.a.createElement(P.a.Fragment,null,P.a.createElement(p.a,{avatar:P.a.createElement(d.a,{"aria-label":"Apps",className:t.classes.avatar},P.a.createElement(D.a,null)),title:"You can tune accessible app for the roles",subheader:"Please note Public apps are accessible for everyone"}),P.a.createElement(u.a,null,P.a.createElement("div",null,this.state.rolesApps.map(function(a){return void 0===a.ShowInNavigationTree||1!==a.ShowInNavigationTree&&!0!==a.ShowInNavigationTree?null:a.childApps?P.a.createElement(P.a.Fragment,{key:"G"+a.Application},P.a.createElement(h.a,{button:!0,key:a.ApplicationID},P.a.createElement(m.a,null,P.a.createElement(v.a,{color:"primary"},a.Icon)),P.a.createElement(f.a,{inset:!0,primary:a.Application})),P.a.createElement(b.a,{in:!0,timeout:"auto",unmountOnExit:!0},P.a.createElement(u.a,{component:"div",disablePadding:!0},a.childApps.map(function(a){return P.a.createElement(h.a,{button:!0,className:t.classes.nested,key:a.ApplicationID},P.a.createElement(I.a,{checked:Boolean(a.IsPublic||a.ApplicationRoleID),disabled:Boolean(a.IsPublic),onChange:function(){e.modifyRoleApps(t.selectedRoleID,a.ApplicationID,a.ApplicationRoleID)}}),P.a.createElement(m.a,null,P.a.createElement(v.a,{color:"primary"},a.Icon)),P.a.createElement(f.a,{primary:a.Application+(a.IsPublic?" (PUBLIC) ":"")}))})))):P.a.createElement(h.a,{button:!0,key:a.ApplicationID},P.a.createElement(I.a,{checked:Boolean(a.IsPublic||a.ApplicationRoleID),disabled:Boolean(a.IsPublic),onChange:function(){return e.modifyRoleApps(t.selectedRoleID,a.ApplicationID,a.ApplicationRoleID)}}),P.a.createElement(m.a,null,P.a.createElement(v.a,{color:"primary"},a.Icon)),P.a.createElement(f.a,{primary:a.Application+(a.IsPublic?" (PUBLIC) ":"")}))})))):P.a.createElement(p.a,{avatar:P.a.createElement(d.a,{"aria-label":"Apps",className:t.classes.avatar},"R"),title:"Please Select a Role to view/amend accessible Apps"})))}}]),t}(O.Component);t.default=E()(function(e){return{nested:{paddingLeft:e.spacing(4)},progress:{margin:e.spacing(2)},avatar:{backgroundColor:k.a[500]}}},{withTheme:!0})(C)},278:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),c=(0,n(a(25)).default)(o.default.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");t.default=c},282:function(e,t,a){"use strict";var n=a(1),o=a.n(n),c=a(2),l=a.n(c),r=a(0),i=a.n(r),s=(a(5),a(3)),p=a(9),d=a.n(p),u=a(31),h=a(4),m=a(64),v=i.a.forwardRef(function(e,t){var a=e.autoFocus,n=e.checked,c=e.checkedIcon,r=e.classes,p=e.className,u=e.defaultChecked,h=e.disabled,v=e.icon,f=e.id,b=e.inputProps,I=e.inputRef,A=e.muiFormControl,y=e.name,k=e.onBlur,g=e.onChange,E=e.onFocus,R=e.readOnly,D=e.required,O=e.tabIndex,P=e.type,C=e.value,w=l()(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),S=i.a.useRef(null!=n).current,j=i.a.useState(Boolean(u)),B=d()(j,2),z=B[0],F=B[1],x=h;A&&"undefined"===typeof x&&(x=A.disabled);var N=S?n:z,H="checkbox"===P||"radio"===P;return i.a.createElement(m.a,o()({component:"span",className:Object(s.a)(r.root,p,N&&r.checked,x&&r.disabled),disabled:x,tabIndex:null,role:void 0,onFocus:function(e){E&&E(e),A&&A.onFocus&&A.onFocus(e)},onBlur:function(e){k&&k(e),A&&A.onBlur&&A.onBlur(e)},ref:t},w),N?c:v,i.a.createElement("input",o()({autoFocus:a,checked:n,defaultChecked:u,className:r.input,disabled:x,id:H&&f,name:y,onChange:function(e){var t=e.target.checked;S||F(t),g&&g(e,t)},readOnly:R,ref:I,required:D,tabIndex:O,type:P,value:C},b)))}),f=Object(h.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}},{name:"PrivateSwitchBase"})(Object(u.a)(v)),b=a(97),I=Object(b.a)(i.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),A=Object(b.a)(i.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),y=a(13),k=Object(b.a)(i.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),g=a(6),E=i.a.createElement(A,null),R=i.a.createElement(I,null),D=i.a.createElement(k,null),O=i.a.forwardRef(function(e,t){var a=e.checkedIcon,n=void 0===a?E:a,c=e.classes,r=e.color,p=void 0===r?"secondary":r,d=e.icon,u=void 0===d?R:d,h=e.indeterminate,m=void 0!==h&&h,v=e.indeterminateIcon,b=void 0===v?D:v,I=e.inputProps,A=l()(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps"]);return i.a.createElement(f,o()({type:"checkbox",checkedIcon:m?b:n,classes:{root:Object(s.a)(c.root,c["color".concat(Object(g.a)(p))],m&&c.indeterminate),checked:c.checked,disabled:c.disabled},color:p,inputProps:o()({"data-indeterminate":m},I),icon:m?b:u,ref:t},A))});t.a=Object(h.a)(function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(y.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(y.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},{name:"MuiCheckbox"})(O)}}]);
//# sourceMappingURL=14.7c0f39da.chunk.js.map