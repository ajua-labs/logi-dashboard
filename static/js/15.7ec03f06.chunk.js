(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{153:function(e,t,a){"use strict";a.r(t);var n=a(56),o=a(64),c=a(65),r=a(67),i=a(66),l=a(68),s=a(207),d=a(208),u=a(190),h=a(200),p=a(137),m=a(282),f=a(138),g=a(139),v=a(140),b=a(202),I=a(274),k=a.n(I),y=a(279),R=a.n(y),W=a(280),E=a.n(W),D=a(0),O=a.n(D),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={rolesWidgets:[],loadingWidgets:!1},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"fetchRolesWidgets",value:function(e){var t=this,a="".concat("https://logi-dash-api.azurewebsites.net/","security/rolesWidgets/").concat(e);this.setState({loadingWidgets:!0}),this.props.Auth.AuthenticatedServerCall(a,"GET").then(function(e){var a=e.filter(function(e){return e.ParentID&&-1===e.ParentID});a.forEach(function(t){var a=e.filter(function(e){return e.ParentID===t.ApplicationID});a.length>0?(t.ShowInNavigationTree=!0,t.childApps=a):t.ShowInNavigationTree=!1}),a.push.apply(a,Object(n.a)(e.filter(function(e){return!e.ParentID||null===e.ParentID}))),t.setState({rolesWidgets:a.sort(function(e,t){return e.AppOrder-t.AppOrder}),loadingWidgets:!1})}).catch(function(e){return t.setState({error:e,loadingWidgets:!1})})}},{key:"modifyRoleWidgets",value:function(e,t,a){var n=this;this.setState({loadingWidgets:!0});var o="".concat("https://logi-dash-api.azurewebsites.net/","security/modifyRoleWidgets");this.props.Auth.AuthenticatedServerCall(o,"POST",{RoleID:e,WidgetID:t,WidgetRoleID:a}).then(function(){return n.fetchRolesWidgets(n.props.selectedRoleID)}).catch(function(e){n.setState({loadingWidgets:!1}),n.fetchRolesWidgets(n.props.selectedRoleID)})}},{key:"componentDidUpdate",value:function(e){if(e.selectedRoleID!==this.props.selectedRoleID){if(this.props.selectedRoleID<0)return void this.setState({rolesWidgets:[]});this.props.selectedRoleID&&this.props.selectedRoleID>=0&&this.fetchRolesWidgets(this.props.selectedRoleID)}}},{key:"componentDidMount",value:function(){this.props.selectedRoleID>=0&&this.fetchRolesWidgets(this.props.selectedRoleID)}},{key:"render",value:function(){var e=this,t=this.props;return O.a.createElement(O.a.Fragment,null,O.a.createElement(s.a,{style:{height:"100%",overflow:"Auto"}},t.selectedRoleID?t.loadingWidgets?O.a.createElement(b.a,null):O.a.createElement(O.a.Fragment,null,O.a.createElement(d.a,{avatar:O.a.createElement(u.a,{"aria-label":"Widgets",className:t.classes.avatar},O.a.createElement(E.a,null)),title:"You can tune accessible widgets for the roles",subheader:"Please note Public widgets are accessible for everyone"}),O.a.createElement(h.a,null,O.a.createElement("div",null,this.state.rolesWidgets.map(function(a){return O.a.createElement(p.a,{button:!0,className:t.classes.nested,key:a.WidgetID},O.a.createElement(m.a,{checked:Boolean(a.IsPublic||a.WidgetRoleID),disabled:Boolean(a.IsPublic),onChange:function(){e.modifyRoleWidgets(t.selectedRoleID,a.WidgetID,a.WidgetRoleID)}}),O.a.createElement(f.a,null,O.a.createElement(g.a,{color:"primary"},a.Icon)),O.a.createElement(v.a,{primary:a.Name+(a.IsPublic?" (PUBLIC) ":"")}))})))):O.a.createElement(d.a,{avatar:O.a.createElement(u.a,{"aria-label":"Apps",className:t.classes.avatar},"R"),title:"Please Select a Role to view/amend accessible Widgets"})))}}]),t}(D.Component);t.default=R()(function(e){return{nested:{paddingLeft:e.spacing(4)},progress:{margin:e.spacing(2)},avatar:{backgroundColor:k.a[500]}}},{withTheme:!0})(C)},280:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(0)),c=(0,n(a(25)).default)(o.default.createElement("path",{d:"M13 13v8h8v-8h-8zM3 21h8v-8H3v8zM3 3v8h8V3H3zm13.66-1.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65z"}),"Widgets");t.default=c},282:function(e,t,a){"use strict";var n=a(1),o=a.n(n),c=a(2),r=a.n(c),i=a(0),l=a.n(i),s=(a(5),a(3)),d=a(9),u=a.n(d),h=a(31),p=a(4),m=a(53),f=l.a.forwardRef(function(e,t){var a=e.autoFocus,n=e.checked,c=e.checkedIcon,i=e.classes,d=e.className,h=e.defaultChecked,p=e.disabled,f=e.icon,g=e.id,v=e.inputProps,b=e.inputRef,I=e.muiFormControl,k=e.name,y=e.onBlur,R=e.onChange,W=e.onFocus,E=e.readOnly,D=e.required,O=e.tabIndex,C=e.type,P=e.value,w=r()(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),j=l.a.useRef(null!=n).current,S=l.a.useState(Boolean(h)),B=u()(S,2),F=B[0],x=B[1],z=p;I&&"undefined"===typeof z&&(z=I.disabled);var A=j?n:F,N="checkbox"===C||"radio"===C;return l.a.createElement(m.a,o()({component:"span",className:Object(s.a)(i.root,d,A&&i.checked,z&&i.disabled),disabled:z,tabIndex:null,role:void 0,onFocus:function(e){W&&W(e),I&&I.onFocus&&I.onFocus(e)},onBlur:function(e){y&&y(e),I&&I.onBlur&&I.onBlur(e)},ref:t},w),A?c:f,l.a.createElement("input",o()({autoFocus:a,checked:n,defaultChecked:h,className:i.input,disabled:z,id:N&&g,name:k,onChange:function(e){var t=e.target.checked;j||x(t),R&&R(e,t)},readOnly:E,ref:b,required:D,tabIndex:O,type:C,value:P},v)))}),g=Object(p.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}},{name:"PrivateSwitchBase"})(Object(h.a)(f)),v=a(99),b=Object(v.a)(l.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),I=Object(v.a)(l.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),k=a(13),y=Object(v.a)(l.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),R=a(6),W=l.a.createElement(I,null),E=l.a.createElement(b,null),D=l.a.createElement(y,null),O=l.a.forwardRef(function(e,t){var a=e.checkedIcon,n=void 0===a?W:a,c=e.classes,i=e.color,d=void 0===i?"secondary":i,u=e.icon,h=void 0===u?E:u,p=e.indeterminate,m=void 0!==p&&p,f=e.indeterminateIcon,v=void 0===f?D:f,b=e.inputProps,I=r()(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps"]);return l.a.createElement(g,o()({type:"checkbox",checkedIcon:m?v:n,classes:{root:Object(s.a)(c.root,c["color".concat(Object(R.a)(d))],m&&c.indeterminate),checked:c.checked,disabled:c.disabled},color:d,inputProps:o()({"data-indeterminate":m},b),icon:m?v:h,ref:t},I))});t.a=Object(p.a)(function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(k.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(k.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},{name:"MuiCheckbox"})(O)}}]);
//# sourceMappingURL=15.7ec03f06.chunk.js.map