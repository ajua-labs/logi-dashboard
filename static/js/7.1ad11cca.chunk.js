(window.webpackJsonp=window.webpackJsonp||[]).push([[7,3,16],{143:function(e,t,a){"use strict";a.r(t),a.d(t,"LogiDataRow",function(){return f});var n=a(29),r=a(14),c=a(0),o=a.n(c),l=a(285),i=a(286),u=a(52),s=a(136),d=a(282),p=a(145),m=Object(u.a)(function(e){return Object(s.a)({rowStyle:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}})});function f(e){var t=m(),a=e.columns,u=e.index,s="enhanced-table-checkbox-".concat(u),f=Object(c.useState)(!1),g=Object(r.a)(f,2),h=g[0],b=g[1],E=Object(c.useState)(!1),w=Object(r.a)(E,2),v=w[0],S=w[1],O=Object(c.useState)(),y=Object(r.a)(O,2),C=y[0],T=y[1],A=Object(c.useState)(e.row),R=Object(r.a)(A,2),j=R[0],D=R[1];function k(t,a){var r=Object(n.a)({},j);r[a]=t,D(r),e.setEditedRow&&e.setEditedRow(r)}Object(c.useEffect)(function(){D(e.row)},[e.row]);var P={enterEditMode:function(){b(!0)},discardEditMode:function(){b(!1),D(e.row),e.setEditedRow&&e.setEditedRow(e.row)},editMode:h||!!e.insertMode&&e.insertMode,oldData:e.row,newData:j,setData:function(e){D(e)},insertMode:!!e.insertMode&&e.insertMode,isExpanded:v,expand:function(e){T(e),S(!0)},collapse:function(){S(!1)}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{className:t.rowStyle},e.allowSelection?o.a.createElement(i.a,{padding:"checkbox"},o.a.createElement(d.a,{checked:!1,inputProps:{"aria-labelledby":s}})):null,a.filter(function(e){return!e.hidden}).map(function(t,a){return 0===a?o.a.createElement(i.a,{key:"".concat(t.accessor?t.accessor:t.header).concat(u),component:"th",id:s,scope:"row",padding:"default"},e.insertMode&&"ActionColumn"===t.dataType?null:t.viewComponent?t.viewComponent(j,P):o.a.createElement(p.default,{column:t,changeValue:function(e){return k(e,t.accessor)},dataRow:j,editMode:h||e.insertMode})):o.a.createElement(i.a,{key:"".concat(t.accessor?t.accessor:t.header).concat(u)},e.insertMode&&"ActionColumn"===t.dataType?null:t.viewComponent?t.viewComponent(j,P):o.a.createElement(p.default,{column:t,changeValue:function(e){return k(e,t.accessor)},dataRow:j,editMode:h||!!e.insertMode&&e.insertMode}))})),v?o.a.createElement(l.a,null,o.a.createElement(i.a,{colSpan:a.filter(function(e){return!e.hidden}).length},C)):null)}},144:function(e,t,a){"use strict";a.r(t),a.d(t,"LogiTableToolbar",function(){return h}),a.d(t,"LogiStandardToolbar",function(){return b});var n=a(0),r=a.n(n),c=a(52),o=a(136),l=a(204),i=a(53),u=a(265),s=a.n(u),d=a(257),p=a.n(d),m=a(258),f=a.n(m),g=Object(c.a)(function(e){return Object(o.a)({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary,flex:"0 0 auto"},title:{flex:"0 0 auto"}})}),h=function(e){var t=g();return r.a.createElement(l.a,{className:t.root},r.a.createElement("div",{className:t.title},e.title),r.a.createElement("div",{className:t.spacer}),r.a.createElement("div",{className:t.actions},e.actions))},b=function(e){var t=r.a.createElement(r.a.Fragment,null);return void 0!==e.insertNewRecord&&(t=e.actionsAndStates.insertMode?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{onClick:function(){e.insertNewRecord(e.actionsAndStates.insertedRecordData())},title:"Save changes"},r.a.createElement(p.a,null)),r.a.createElement(i.a,{color:"secondary",onClick:e.actionsAndStates.discardInsertMode,title:"Cancel changes"},r.a.createElement(f.a,null))):r.a.createElement(i.a,{color:"secondary",onClick:e.actionsAndStates.enterInsertMode,title:"Add Record"},r.a.createElement(s.a,null))),r.a.createElement(h,{title:e.title,actions:t})}},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(141),o=a(260),l=a(261),i=a(282),u=a(263),s=a.n(u),d=a(264),p=a.n(d);t.default=function(e){if(e.editMode&&!e.column.readOnly){var t=function(t){return e.changeValue(t.toISOString())};switch(e.column.dataType){case"Date":return r.a.createElement(l.c,{utils:o.a},r.a.createElement(l.a,{autoOk:!0,value:e.dataRow[e.column.accessor],onChange:t,rightArrowIcon:r.a.createElement(s.a,null),leftArrowIcon:r.a.createElement(p.a,null)}));case"Time":return r.a.createElement(l.c,{utils:o.a},r.a.createElement(l.d,{value:e.dataRow[e.column.accessor],onChange:t}));case"DateTime":return r.a.createElement(l.c,{utils:o.a},r.a.createElement(l.b,{value:e.dataRow[e.column.accessor],onChange:t,rightArrowIcon:r.a.createElement(s.a,null),leftArrowIcon:r.a.createElement(p.a,null)}));case"Boolean":return r.a.createElement(i.a,{onChange:function(t){e.changeValue(t.target.checked)},checked:a()});case"Number":case"String":default:return r.a.createElement(c.a,{type:"Number"===e.column.dataType?"number":"text",value:e.dataRow[e.column.accessor],onChange:function(t){return e.changeValue(t.target.value)}})}}else switch(e.column.dataType){case"Date":return r.a.createElement(r.a.Fragment,null,new Date(e.dataRow[e.column.accessor]).toLocaleDateString());case"DateTime":return r.a.createElement(r.a.Fragment,null,new Date(e.dataRow[e.column.accessor]).toLocaleString());case"Time":return r.a.createElement(r.a.Fragment,null,new Date(e.dataRow[e.column.accessor]).toLocaleTimeString());case"Boolean":return r.a.createElement(i.a,{checked:a()});default:return r.a.createElement(r.a.Fragment,null,e.dataRow[e.column.accessor])}function a(){switch(typeof e.dataRow[e.column.accessor]){case"boolean":return e.dataRow[e.column.accessor];case"number":return e.dataRow[e.column.accessor]>0;case"string":return"true"===e.dataRow[e.column.accessor].toLowerCase();default:return e.dataRow[e.column.accessor]}}}},146:function(e,t,a){"use strict";a.r(t),a.d(t,"LogiTableHeader",function(){return d});var n=a(14),r=a(0),c=a.n(r),o=a(286),l=a(293),i=a(285),u=a(319),s=a(282);function d(e){var t=e.onSelectAllClick,a=e.columns,r=c.a.useState("asc"),d=Object(n.a)(r,2),p=d[0],m=d[1],f=c.a.useState(""),g=Object(n.a)(f,2),h=g[0],b=g[1];return c.a.createElement(l.a,null,c.a.createElement(i.a,null,e.allowSelection?c.a.createElement(o.a,{padding:"checkbox"},e.showSelectAll?c.a.createElement(s.a,{checked:!0,onChange:t,inputProps:{"aria-label":"Select all"}}):null):null,a.map(function(t){return t.hidden?null:c.a.createElement(o.a,{key:t.accessor,sortDirection:h===t.header&&p},e.allowSort&&"ActionColumn"!==t.dataType?c.a.createElement(u.a,{active:h===t.header,direction:p,onClick:(a=t,function(t){if(e.customSortFunction)e.customSortFunction(t,a);else{var n=h===a.header&&"desc"===p;m(n?"asc":"desc"),b(a.header)}})},t.header):t.header);var a})))}},147:function(e,t,a){"use strict";a.r(t),a.d(t,"StandardActions",function(){return O}),a.d(t,"EditComp",function(){return y}),a.d(t,"DeleteComp",function(){return C}),a.d(t,"ExpandDetail",function(){return T});var n=a(0),r=a.n(n),c=a(267),o=a.n(c),l=a(266),i=a.n(l),u=a(257),s=a.n(u),d=a(258),p=a.n(d),m=a(53),f=(a(88),a(52)),g=a(136),h=a(202),b=a(103),E=a.n(b),w=a(102),v=a.n(w),S=Object(f.a)(function(e){return Object(g.a)({progress:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}})});function O(e){var t=S();return e.actionInProgress?r.a.createElement(h.a,{size:30,className:t.progress}):e.editMode?r.a.createElement(y,e):r.a.createElement(r.a.Fragment,null,void 0!==e.expandComp?r.a.createElement(T,e):null,void 0!==e.saveChanges?r.a.createElement(y,e):null,void 0!==e.deleteRecord?r.a.createElement(C,e):null)}function y(e){return e.editMode?r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{onClick:function(t){e.saveChanges&&e.saveChanges()}}),r.a.createElement(D,{onClick:function(){e.discardEditMode()}})):r.a.createElement(A,{onClick:function(){e.enterEditMode()}})}function C(e){return r.a.createElement(R,{onClick:function(){return e.deleteRecord&&e.deleteRecord()}})}function T(e){return e.isExpanded?r.a.createElement(m.a,{onClick:function(){e.collapse&&e.collapse()}},r.a.createElement(v.a,null)):r.a.createElement(m.a,{onClick:function(){e.expandComp&&e.expand(e.expandComp)}},r.a.createElement(E.a,null))}var A=function(e){return r.a.createElement(m.a,{onClick:e.onClick,title:"Edit row"},r.a.createElement(i.a,null))},R=function(e){return r.a.createElement(m.a,{onClick:e.onClick,title:"Delete row"},r.a.createElement(o.a,null))},j=function(e){return r.a.createElement(m.a,{onClick:e.onClick,title:"Save changes"},r.a.createElement(s.a,null))},D=function(e){return r.a.createElement(m.a,{color:"secondary",onClick:e.onClick,title:"Cancel changes"},r.a.createElement(p.a,null))}},160:function(e,t,a){"use strict";a.r(t);var n=a(56),r=a(35),c=a.n(r),o=a(58),l=a(14),i=a(0),u=a.n(i),s=a(30),d=a(90),p=a(147),m=a(60);t.default=function(e){console.log(e);var t=Object(i.useState)(),a=Object(l.a)(t,2),r=a[0],f=a[1],g=Object(i.useState)(!1),h=Object(l.a)(g,2),b=h[0],E=h[1],w=Object(i.useState)(0),v=Object(l.a)(w,2),S=v[0],O=v[1],y=Object(s.useAuth)();function C(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("https://logi-dash-api.azurewebsites.net/","security/apps"),e.next=4,y.AuthenticatedServerCall(a,"POST",{Insert:' ("Application", "ParentID", "Description", "RouteName", "Component", "Params", "ShowInNavigationTree", "IsPublic", "Icon", "AppOrder","AppProps")\n          SELECT \''.concat(t.Application.trim(),"' ,\n        ").concat(t.ParentID?t.ParentID:null," ,\n        '").concat(t.Description.trim(),"', \n        '").concat(t.RouteName.trim(),"', \n        '").concat(t.Component.trim(),"', \n        '").concat(t.Params.trim().length>0?t.Params.trim():null,"', \n        ").concat(void 0!==t.ShowInNavigationTree?m.Value2SQLValue.get("Boolean")(t.ShowInNavigationTree):null,", \n        ").concat(void 0!==t.IsPublic?m.Value2SQLValue.get("Boolean")(t.IsPublic):null,", \n        '").concat(t.Icon.trim(),"',\n         ").concat(t.AppOrder?t.AppOrder:null,",\n         '").concat(t.AppProps.trim().length>0?t.AppProps.trim():null,"', \n      ")});case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function A(e){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("https://logi-dash-api.azurewebsites.net/","security/apps"),e.next=4,y.AuthenticatedServerCall(a,"DELETE",{ApplicationID:t});case 4:return n=e.sent,console.log(n),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}Object(i.useEffect)(function(){function e(){return(e=Object(o.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),t="".concat("https://logi-dash-api.azurewebsites.net/","security/apps"),e.next=4,y.AuthenticatedServerCall(t,"GET");case 4:a=e.sent,f(a),E(!1);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[y,S]);var j=[].concat(Object(n.a)(e.loadedProps&&e.loadedProps.ReadOnly&&"true"===e.loadedProps.ReadOnly?[]:[{header:"Actions",accessor:"ActionColumnOne",dataType:"ActionColumn",viewComponent:function(e,t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.StandardActions,Object.assign({},t,{deleteRecord:Object(o.a)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(e.Application," ?"))){t.next=6;break}return E(!0),t.next=4,A(e.ApplicationID);case 4:O(function(e){return e+1}),E(!1);case 6:case"end":return t.stop()}},t)})),saveChanges:function(){var e="";for(var a in t.newData)"boolean"===typeof t.newData[a]&&(t.newData[a]=m.Value2SQLValue.get("Boolean")(t.newData.IsPublic)),t.newData[a]!==t.oldData[a]&&(e+="".concat(a," = '").concat(t.newData[a],"' ,"));return e.length>0?(e=e.substring(0,e.length-1),y.AuthenticatedServerCall("".concat("https://logi-dash-api.azurewebsites.net/","security/apps"),"PUT",{ApplicationID:t.oldData.ApplicationID,Update:e}).then(function(e){console.log(e),O(function(e){return e+1})}).catch(function(e){console.log(e),t.discardEditMode(),O(function(e){return e+1})})):Promise.resolve(!0)}})))}}]),[{header:"ApplicationID",accessor:"ApplicationID",dataType:"Number",readOnly:!0},{header:"Application",accessor:"Application",dataType:"String"},{header:"Description",accessor:"Description",dataType:"String"},{header:"ParentID",accessor:"ParentID",dataType:"Number"},{header:"RouteName",accessor:"RouteName",dataType:"String"},{header:"Component",accessor:"Component",dataType:"String"},{header:"Props",accessor:"AppProps",dataType:"String"},{header:"Params",accessor:"Params",dataType:"String"},{header:"IsPublic",accessor:"IsPublic",dataType:"Boolean"},{header:"ShowInNavigationTree",accessor:"ShowInNavigationTree",dataType:"Boolean"},{header:"Icon",accessor:"Icon",dataType:"String"},{header:"AppOrder",accessor:"AppOrder",dataType:"Number"}]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.LogiTable,{isRemoteLoading:b,dense:!0,allowSort:!1,columns:j,keyAccessor:"ApplicationID",data:r,tableToolbar:function(t){return u.a.createElement(d.LogiStandardToolbar,{actionsAndStates:t,title:"Applications",insertNewRecord:function(){var a=Object(o.a)(c.a.mark(function a(n){var r;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.loadedProps||!e.loadedProps.ReadOnly||"true"!==e.loadedProps.ReadOnly){a.next=3;break}return alert("This is read only mode of the app"),a.abrupt("return");case 3:if(r=t.insertedRecordData(),a.prev=4,r&&r.Application&&!(r.Application.trim().length<=0)){a.next=8;break}return alert("Please fill all required fields and try again"),a.abrupt("return");case 8:return E(!0),a.next=11,C(r);case 11:O(function(e){return e+1}),t.discardInsertMode(),E(!1),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(4),console.log(a.t0),alert("something went wrong, trying to save the data");case 20:case"end":return a.stop()}},a,null,[[4,16]])}));return function(e){return a.apply(this,arguments)}}()})}}))}},266:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(25)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},267:function(e,t,a){"use strict";var n=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(25)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c},90:function(e,t,a){"use strict";a.r(t),a.d(t,"LogiTable",function(){return S});var n=a(14),r=a(0),c=a.n(r),o=a(52),l=a(136),i=a(329),u=a(330),s=a(286),d=a(332),p=a(285),m=a(63),f=a(146),g=a(143),h=a(261),b=a(260),E=a(202);a.d(t,"LogiDataRow",function(){return g.LogiDataRow});var w=a(144);a.d(t,"LogiTableToolbar",function(){return w.LogiTableToolbar}),a.d(t,"LogiStandardToolbar",function(){return w.LogiStandardToolbar});var v=Object(o.a)(function(e){return Object(l.a)({root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},progress:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}})});function S(e){var t=v(),a=Object(r.useState)(0),o=Object(n.a)(a,2),l=o[0],w=o[1],S=Object(r.useState)(5),O=Object(n.a)(S,2),y=O[0],C=O[1],T=Object(r.useState)(!1),A=Object(n.a)(T,2),R=A[0],j=A[1],D=Object(r.useState)([{}]),k=Object(n.a)(D,2),P=k[0],I=k[1],M=Object(r.useState)(!1),x=Object(n.a)(M,2),L=x[0],N=x[1],F=Object(r.useState)(!1),V=Object(n.a)(F,2),z=V[0],B=V[1],H=void 0;Object(r.useEffect)(function(){if(console.log("setting data"),"function"===typeof e.data){var t=e.data;j(!0),t().then(function(e){I(e),j(!1)}).catch(function(e){console.log("error: "+e),j(!1),N(!0)})}else I(e.data)},[e.data,e.refreshData]);var _=y-(P?Math.min(y,P.length-l*y):0);return c.a.createElement(h.c,{utils:b.a},c.a.createElement("div",{className:t.root},c.a.createElement(m.a,{className:t.paper},c.a.createElement("div",{className:t.tableWrapper},e.tableToolbar?e.tableToolbar({enterInsertMode:function(){B(!0)},discardInsertMode:function(){B(!1)},insertMode:z,insertedRecordData:function(){return H}}):null,c.a.createElement(i.a,{className:t.table,"aria-labelledby":"tableTitle",size:e.dense?"small":"medium"},c.a.createElement(f.LogiTableHeader,e),c.a.createElement(u.a,null,z&&c.a.createElement(g.LogiDataRow,{key:-1,row:function(){var t={};return e.columns.filter(function(e){return"ActionColumn"!==e.dataType}).forEach(function(e){t[e.accessor]=""}),t},index:-1,columns:e.columns,allowSelection:!1,insertMode:!0,setEditedRow:function(e){H=e}}),e.isRemoteLoading||R||L?c.a.createElement(p.a,null,c.a.createElement(s.a,{colSpan:e.columns.filter(function(e){return!e.hidden}).length,rowSpan:y,align:"center"},c.a.createElement("div",null,e.isRemoteLoading||R?c.a.createElement(E.a,{size:30,className:t.progress}):"Failed to load data!"))):P&&P.length>0&&P.slice(l*y,l*y+y).map(function(t,a){return c.a.createElement(g.LogiDataRow,{key:a,row:t,index:a,columns:e.columns,allowSelection:e.allowSelection})}),_>0&&c.a.createElement(p.a,{style:{height:49*_}},c.a.createElement(s.a,{colSpan:e.columns.filter(function(e){return!e.hidden}).length}))))),c.a.createElement(d.a,{rowsPerPageOptions:[5,10,25],component:"div",count:P?P.length:0,rowsPerPage:y,page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){w(t)},onChangeRowsPerPage:function(e){C(+e.target.value)}}))))}}}]);
//# sourceMappingURL=7.1ad11cca.chunk.js.map